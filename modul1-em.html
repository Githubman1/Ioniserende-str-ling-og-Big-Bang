<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modul 1: Elektromagnetisk str√•ling</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #0a0a1a 0%, #1a1a3e 100%);
            min-height: 100vh;
            color: #e0e0e0;
        }
        
        /* Navigation */
        .topnav {
            background: rgba(0,0,0,0.3);
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
        }
        .topnav a {
            color: #888;
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 8px;
            transition: all 0.3s;
        }
        .topnav a:hover { background: rgba(255,255,255,0.1); color: #fff; }
        .nav-title { color: #ff4444; font-weight: bold; font-size: 1.1rem; }
        
        /* Tabs */
        .tabs {
            display: flex;
            gap: 5px;
            padding: 20px 30px;
            background: rgba(0,0,0,0.2);
            overflow-x: auto;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .tab {
            padding: 12px 20px;
            background: rgba(255,255,255,0.05);
            border: none;
            border-radius: 10px;
            color: #888;
            cursor: pointer;
            white-space: nowrap;
            transition: all 0.3s;
            font-size: 0.9rem;
        }
        .tab:hover { background: rgba(255,255,255,0.1); color: #fff; }
        .tab.active { background: #ff4444; color: #fff; }
        
        /* Content */
        .content { padding: 30px; max-width: 1000px; margin: 0 auto; }
        .section { display: none; }
        .section.active { display: block; }
        
        h1 { font-size: 2rem; margin-bottom: 20px; color: #ff4444; }
        h2 { font-size: 1.5rem; margin: 30px 0 15px; color: #ff6666; }
        h3 { font-size: 1.2rem; margin: 25px 0 12px; color: #ff8888; }
        p { line-height: 1.8; margin-bottom: 15px; }
        
        .box {
            background: rgba(255,255,255,0.03);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
        }
        .box-highlight {
            border-left: 4px solid #ff4444;
            background: rgba(255,68,68,0.1);
        }
        .box-success {
            border-left: 4px solid #44cc88;
            background: rgba(68,204,136,0.1);
        }
        .box-warning {
            border-left: 4px solid #ffaa00;
            background: rgba(255,170,0,0.1);
        }
        
        /* Simulator */
        .simulator {
            background: #0d0d1a;
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            border: 2px solid rgba(255,68,68,0.3);
        }
        .sim-title {
            color: #ff4444;
            font-size: 1.1rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        canvas { border-radius: 10px; display: block; margin: 15px 0; }
        
        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 20px;
        }
        .control-group { flex: 1; min-width: 200px; }
        .control-group label {
            display: block;
            color: #888;
            margin-bottom: 8px;
            font-size: 0.9rem;
        }
        input[type="range"] {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: #333;
            -webkit-appearance: none;
        }
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #ff4444;
            cursor: pointer;
        }
        
        .value-display {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            padding: 15px;
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
        }
        .value-item { text-align: center; }
        .value-number { font-size: 1.8rem; color: #00ffff; font-weight: bold; }
        .value-label { color: #888; font-size: 0.8rem; }
        
        /* Table */
        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        th, td { padding: 12px 15px; text-align: left; border-bottom: 1px solid rgba(255,255,255,0.1); }
        th { background: rgba(255,255,255,0.05); color: #ff4444; }
        tr:hover { background: rgba(255,255,255,0.03); }
        
        /* Flashcards */
        .flashcard-container { perspective: 1000px; margin: 30px 0; }
        .flashcard {
            width: 100%;
            height: 250px;
            position: relative;
            cursor: pointer;
            transform-style: preserve-3d;
            transition: transform 0.6s;
        }
        .flashcard.flipped { transform: rotateY(180deg); }
        .flash-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 30px;
            text-align: center;
        }
        .flash-front {
            background: linear-gradient(135deg, #1a1a3e, #2a2a5e);
            border: 2px solid rgba(255,68,68,0.3);
        }
        .flash-back {
            background: linear-gradient(135deg, #143, #254);
            border: 2px solid rgba(68,204,136,0.3);
            transform: rotateY(180deg);
        }
        .flash-label { font-size: 0.8rem; color: #888; margin-bottom: 15px; text-transform: uppercase; letter-spacing: 2px; }
        .flash-text { font-size: 1.3rem; line-height: 1.6; }
        .flash-hint { font-size: 0.8rem; color: #666; margin-top: 20px; }
        .flash-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }
        .flash-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            background: rgba(255,255,255,0.1);
            color: #fff;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s;
        }
        .flash-btn:hover { background: #ff4444; }
        .flash-counter { text-align: center; color: #888; margin-bottom: 15px; }
        
        /* Quiz */
        .quiz-question {
            background: rgba(255,255,255,0.03);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
        }
        .quiz-question.correct { border-color: #44cc88; background: rgba(68,204,136,0.1); }
        .quiz-question.wrong { border-color: #ff4444; background: rgba(255,68,68,0.1); }
        .quiz-text { font-size: 1.1rem; margin-bottom: 20px; }
        .quiz-options { display: grid; gap: 10px; }
        .quiz-option {
            padding: 15px 20px;
            background: rgba(255,255,255,0.05);
            border: 2px solid rgba(255,255,255,0.1);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .quiz-option:hover { border-color: #ff4444; background: rgba(255,68,68,0.1); }
        .quiz-option.selected { border-color: #00ffff; background: rgba(0,255,255,0.1); }
        .quiz-option.correct-answer { border-color: #44cc88; background: rgba(68,204,136,0.2); }
        .quiz-option.wrong-answer { border-color: #ff4444; background: rgba(255,68,68,0.2); }
        
        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        .btn-primary { background: #ff4444; color: #fff; }
        .btn-primary:hover { background: #ff6666; }
        .btn-secondary { background: rgba(255,255,255,0.1); color: #fff; }
        .btn-secondary:hover { background: rgba(255,255,255,0.2); }
        
        .result-box {
            text-align: center;
            padding: 30px;
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            margin: 30px 0;
        }
        .result-score { font-size: 3rem; font-weight: bold; }
        .result-score.good { color: #44cc88; }
        .result-score.medium { color: #ffaa00; }
        .result-score.bad { color: #ff4444; }
        
        /* List styles */
        ul, ol { margin: 15px 0 15px 25px; line-height: 2; }
        li { margin-bottom: 8px; }
        
        /* Spectrum bar */
        .spectrum-bar {
            height: 50px;
            border-radius: 10px;
            margin: 20px 0;
            background: linear-gradient(90deg, 
                #300 0%, #600 8%, #a0f 15%, #40f 22%, 
                #0ff 30%, #0f0 42%, #ff0 55%, #f80 68%, 
                #f00 78%, #800 88%, #400 100%);
        }
        .spectrum-labels {
            display: flex;
            justify-content: space-between;
            font-size: 0.75rem;
            color: #888;
        }
        
        /* Responsive */
        @media (max-width: 600px) {
            .tabs { padding: 15px; }
            .tab { padding: 10px 15px; font-size: 0.8rem; }
            .content { padding: 20px 15px; }
            h1 { font-size: 1.5rem; }
        }
    </style>
</head>
<body>
    <nav class="topnav">
        <a href="index.html">‚Üê Tilbake til oversikt</a>
        <span class="nav-title">üì° Modul 1: EM-str√•ling</span>
        <span id="progressLabel">0% fullf√∏rt</span>
    </nav>
    
    <div class="tabs">
        <button class="tab active" onclick="showSection(0)">üìñ Introduksjon</button>
        <button class="tab" onclick="showSection(1)">‚ö° Hvordan EM oppst√•r</button>
        <button class="tab" onclick="showSection(2)">üåà Spekteret</button>
        <button class="tab" onclick="showSection(3)">üî¨ Simulator</button>
        <button class="tab" onclick="showSection(4)">‚ö° Ioniserende</button>
        <button class="tab" onclick="showSection(5)">üì± Ikke-ioniserende</button>
        <button class="tab" onclick="showSection(6)">üíä Str√•ledose</button>
        <button class="tab" onclick="showSection(7)">üîß Bruksomr√•der</button>
        <button class="tab" onclick="showSection(8)">üÉè Flashcards</button>
        <button class="tab" onclick="showSection(9)">‚ùì Quiz</button>
        <button class="tab" onclick="showSection(10)">üìù Oppgaver</button>
    </div>
    
    <div class="content">
        <!-- SEKSJON 0: INTRODUKSJON -->
        <div class="section active" id="sec0">
            <h1>üì° Elektromagnetisk str√•ling</h1>
            
            <div class="box box-highlight">
                <h3>üéØ L√¶ringsm√•l</h3>
                <p>Etter denne modulen skal du kunne:</p>
                <ul>
                    <li>Forklare hva elektromagnetisk str√•ling er og hvordan den oppf√∏rer seg</li>
                    <li>Beskrive sammenhengen mellom b√∏lgelengde, frekvens og energi</li>
                    <li>Skille mellom ioniserende og ikke-ioniserende str√•ling</li>
                    <li>Vurdere helserisiko ved ulike typer str√•ling</li>
                    <li>Gi eksempler p√• bruksomr√•der for EM-str√•ling</li>
                </ul>
            </div>
            
            <h2>Hva er elektromagnetisk str√•ling?</h2>
            <p>
                Elektromagnetisk (EM) str√•ling er <strong>energi som brer seg som b√∏lger</strong> gjennom rommet. 
                Til forskjell fra lydb√∏lger, som trenger et medium (luft, vann) √• bevege seg gjennom, 
                kan EM-str√•ling reise gjennom <strong>vakuum</strong> - det tomme rommet mellom stjernene.
            </p>
            
            <p>
                EM-str√•ling oppst√•r n√•r ladede partikler (som elektroner) akselererer. 
                Denne akselerasjonen skaper oscillerende elektriske og magnetiske felt 
                som brer seg utover med lysets hastighet.
            </p>
            
            <div class="box">
                <h3>üìê De viktigste formlene</h3>
                <p><strong>B√∏lgeformelen:</strong></p>
                <p style="font-size: 1.5rem; text-align: center; color: #00ffff; margin: 20px 0;">
                    c = Œª √ó f
                </p>
                <ul>
                    <li><strong>c</strong> = lysets hastighet (299 792 458 m/s ‚âà 3 √ó 10‚Å∏ m/s)</li>
                    <li><strong>Œª</strong> (lambda) = b√∏lgelengde (meter)</li>
                    <li><strong>f</strong> = frekvens (Hz = svingninger per sekund)</li>
                </ul>
                
                <p style="margin-top: 20px;"><strong>Energiformelen:</strong></p>
                <p style="font-size: 1.5rem; text-align: center; color: #ff4444; margin: 20px 0;">
                    E = h √ó f
                </p>
                <ul>
                    <li><strong>E</strong> = energi (Joule)</li>
                    <li><strong>h</strong> = Plancks konstant (6.63 √ó 10‚Åª¬≥‚Å¥ J¬∑s)</li>
                    <li><strong>f</strong> = frekvens (Hz)</li>
                </ul>
            </div>
            
            <div class="box box-success">
                <h3>üí° Den viktige sammenhengen</h3>
                <p style="font-size: 1.2rem; text-align: center;">
                    <strong>Kort b√∏lgelengde = H√∏y frekvens = H√∏y energi</strong><br>
                    <span style="color: #888;">‚Üì</span><br>
                    <strong>Lang b√∏lgelengde = Lav frekvens = Lav energi</strong>
                </p>
                <p style="margin-top: 15px; color: #aaa;">
                    Dette er n√∏kkelen til √• forst√• hvorfor noen typer str√•ling er farligere enn andre!
                </p>
            </div>
            
            <h2>B√∏lge-partikkel-dualitet</h2>
            <p>
                En av de merkeligste oppdagelsene i fysikk er at lys (og all EM-str√•ling) 
                oppf√∏rer seg b√•de som <strong>b√∏lger</strong> og som <strong>partikler</strong> (fotoner).
            </p>
            <ul>
                <li><strong>Som b√∏lge:</strong> Lys kan interferere, b√∏yes rundt hj√∏rner (diffraksjon), og brytes i prisme</li>
                <li><strong>Som partikkel:</strong> Lys kommer i "pakker" (kvanter) med bestemt energi, kan sl√• l√∏s elektroner</li>
            </ul>
            
            <div class="box box-warning">
                <h3>‚ö†Ô∏è Viktig poeng</h3>
                <p>
                    <strong>Alle typer EM-str√•ling har samme hastighet</strong> (lysets hastighet c) i vakuum. 
                    Det som skiller dem er b√∏lgelengde og frekvens - og dermed energien de b√¶rer.
                </p>
            </div>
            
            <div style="text-align: center; margin-top: 30px;">
                <button class="btn btn-primary" onclick="showSection(1)">Neste: Hvordan EM oppst√•r ‚Üí</button>
            </div>
        </div>
        
        <!-- SEKSJON 1: HVORDAN EM OPPST√ÖR -->
        <div class="section" id="sec1">
            <h1>‚ö° Hvordan oppst√•r elektromagnetisk str√•ling?</h1>
            
            <div class="box box-highlight">
                <h3>N√∏kkelprinsipp</h3>
                <p>
                    Elektromagnetisk str√•ling oppst√•r n√•r <strong>elektriske ladninger akselererer</strong> - 
                    alts√• n√•r de endrer hastighet eller retning. Dette skjer p√• flere m√•ter!
                </p>
            </div>
            
            <h2>1. Oscillerende ladning (antenne)</h2>
            <p>N√•r et elektron svinger frem og tilbake, sender det ut EM-b√∏lger. Dette er hvordan radioantenner fungerer.</p>
            
            <div class="simulator">
                <div class="sim-title">üî¨ Animasjon 1: Oscillerende elektron ‚Üí EM-b√∏lge</div>
                <canvas id="emOriginCanvas" width="800" height="300" style="width: 100%; background: #050510;"></canvas>
                <div style="display: flex; justify-content: center; gap: 15px; margin-top: 15px;">
                    <button class="btn btn-primary" onclick="toggleEMAnimation()" id="emAnimBtn">‚è∏Ô∏è Pause</button>
                    <button class="btn btn-secondary" onclick="changeEMSpeed(-1)">üê¢ Saktere</button>
                    <button class="btn btn-secondary" onclick="changeEMSpeed(1)">üêá Raskere</button>
                </div>
                <div style="display: flex; justify-content: space-around; margin-top: 15px; flex-wrap: wrap; gap: 10px;">
                    <div style="text-align: center;">
                        <div style="width: 20px; height: 20px; background: #ff4444; border-radius: 50%; margin: 0 auto;"></div>
                        <span style="color: #ff4444; font-size: 0.85rem;">Elektrisk felt (E)</span>
                    </div>
                    <div style="text-align: center;">
                        <div style="width: 20px; height: 20px; background: #4488ff; border-radius: 50%; margin: 0 auto;"></div>
                        <span style="color: #4488ff; font-size: 0.85rem;">Magnetisk felt (B)</span>
                    </div>
                    <div style="text-align: center;">
                        <div style="width: 20px; height: 20px; background: #ffff00; border-radius: 50%; margin: 0 auto;"></div>
                        <span style="color: #ffff00; font-size: 0.85rem;">Elektron (e‚Åª)</span>
                    </div>
                </div>
            </div>
            
            <h2>2. Elektron treffer atom (r√∏ntgen)</h2>
            <p>N√•r et elektron med h√∏y hastighet bremses br√•tt av et atom, frigj√∏res energien som r√∏ntgenstr√•ling. Dette kalles <strong>bremsestr√•ling</strong>.</p>
            
            <div class="simulator">
                <div class="sim-title">üí• Animasjon 2: Elektron treffer atom ‚Üí R√∏ntgenstr√•ling</div>
                <canvas id="bremCanvas" width="800" height="300" style="width: 100%; background: #050510;"></canvas>
                <div style="display: flex; justify-content: center; gap: 15px; margin-top: 15px;">
                    <button class="btn btn-primary" onclick="fireBremElectron()">üöÄ Skyt elektron!</button>
                </div>
                <div style="display: flex; justify-content: space-around; margin-top: 15px; flex-wrap: wrap; gap: 10px;">
                    <div style="text-align: center;">
                        <div style="width: 20px; height: 20px; background: #ffff00; border-radius: 50%; margin: 0 auto;"></div>
                        <span style="color: #ffff00; font-size: 0.85rem;">Elektron (e‚Åª)</span>
                    </div>
                    <div style="text-align: center;">
                        <div style="width: 20px; height: 20px; background: #ff6600; border-radius: 50%; margin: 0 auto;"></div>
                        <span style="color: #ff6600; font-size: 0.85rem;">Atomkjerne</span>
                    </div>
                    <div style="text-align: center;">
                        <div style="width: 20px; height: 20px; background: #aa44ff; border-radius: 50%; margin: 0 auto;"></div>
                        <span style="color: #aa44ff; font-size: 0.85rem;">R√∏ntgenstr√•ling</span>
                    </div>
                </div>
            </div>
            
            <h2>Steg for steg</h2>
            
            <div class="box" style="border-left: 4px solid #44cc88;">
                <h3 style="color: #44cc88;">Oscillerende ladning (radio, mikrob√∏lger, lys)</h3>
                <ol>
                    <li>Elektronet beveger seg opp og ned i en antenne</li>
                    <li>Akselerasjonen skaper et varierende <strong>elektrisk felt (E)</strong></li>
                    <li>Det varierende E-feltet skaper et <strong>magnetisk felt (B)</strong> vinkelrett</li>
                    <li>E og B forsterker hverandre og brer seg utover med lyshastighet</li>
                    <li><strong>Raskere oscillasjon = h√∏yere frekvens = mer energi</strong></li>
                </ol>
            </div>
            
            <div class="box" style="border-left: 4px solid #aa44ff;">
                <h3 style="color: #aa44ff;">Bremsestr√•ling (r√∏ntgen)</h3>
                <ol>
                    <li>Et elektron akselereres til h√∏y hastighet (i et r√∏ntgenr√∏r)</li>
                    <li>Elektronet treffer et tungt atom (ofte wolfram)</li>
                    <li>Elektronet <strong>bremses br√•tt</strong> av atomkjernens positive ladning</li>
                    <li>Den tapte kinetiske energien omdannes til r√∏ntgenstr√•ling</li>
                    <li><strong>Jo brattere bremsing = kortere b√∏lgelengde = mer energi</strong></li>
                </ol>
            </div>
            
            <div class="box">
                <h3>üìª Eksempler p√• EM-kilder</h3>
                <table>
                    <tr>
                        <th>Kilde</th>
                        <th>Mekanisme</th>
                        <th>Type str√•ling</th>
                    </tr>
                    <tr>
                        <td>Antenne</td>
                        <td>Elektroner oscillerer i metalltr√•d</td>
                        <td>Radiob√∏lger</td>
                    </tr>
                    <tr>
                        <td>Mikrob√∏lgeovn</td>
                        <td>Magnetron oscillerer elektroner</td>
                        <td>Mikrob√∏lger</td>
                    </tr>
                    <tr>
                        <td>Gl√∏delampe</td>
                        <td>Varme atomer vibrerer</td>
                        <td>IR + synlig lys</td>
                    </tr>
                    <tr>
                        <td>R√∏ntgenr√∏r</td>
                        <td>Elektroner bremses i metall</td>
                        <td>R√∏ntgen</td>
                    </tr>
                    <tr>
                        <td>Radioaktivt stoff</td>
                        <td>Kjerneomvandlinger</td>
                        <td>Gammastr√•ling</td>
                    </tr>
                </table>
            </div>
            
            <div class="box box-success">
                <h3>üí° Viktig sammenheng</h3>
                <p style="font-size: 1.2rem; text-align: center;">
                    <strong>Raskere akselerasjon ‚Üí H√∏yere frekvens ‚Üí Kortere b√∏lgelengde ‚Üí MER ENERGI</strong>
                </p>
                <p>
                    Dette forklarer hvorfor gammastr√•ling (fra kjernereaksjoner) har enormt mye mer energi 
                    enn radiob√∏lger (fra langsom oscillasjon i antenner).
                </p>
            </div>
            
            <div style="text-align: center; margin-top: 30px;">
                <button class="btn btn-secondary" onclick="showSection(0)">‚Üê Forrige</button>
                <button class="btn btn-primary" onclick="showSection(2)">Neste: Spekteret ‚Üí</button>
            </div>
        </div>
        
        <!-- SEKSJON 2: SPEKTERET -->
        <div class="section" id="sec2">
            <h1>üåà Det elektromagnetiske spekteret</h1>
            
            <p>
                Det elektromagnetiske spekteret er hele <strong>utvalget av EM-str√•ling</strong>, 
                organisert etter b√∏lgelengde eller frekvens. Vi deler det inn i ulike kategorier 
                basert p√• hvordan str√•lingen oppf√∏rer seg og hvordan vi bruker den.
            </p>
            
            <div class="simulator">
                <div class="sim-title">üåà Det elektromagnetiske spekteret</div>
                <div class="spectrum-bar"></div>
                <div class="spectrum-labels">
                    <span>Gamma</span>
                    <span>R√∏ntgen</span>
                    <span>UV</span>
                    <span>Synlig</span>
                    <span>IR</span>
                    <span>Mikro</span>
                    <span>Radio</span>
                </div>
                <p style="text-align: center; margin-top: 15px; color: #ff4444;">
                    ‚Üê H√∏y energi, kort b√∏lgelengde | Lav energi, lang b√∏lgelengde ‚Üí
                </p>
            </div>
            
            <h2>Oversikt over spekteret</h2>
            <table>
                <thead>
                    <tr>
                        <th>Type str√•ling</th>
                        <th>B√∏lgelengde</th>
                        <th>Frekvens</th>
                        <th>Hovedkilde/bruk</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="color: #ff4444;">
                        <td>Gammastr√•ling (Œ≥)</td>
                        <td>&lt; 0.01 nm</td>
                        <td>&gt; 30 EHz</td>
                        <td>Radioaktivt henfall, kreftbehandling</td>
                    </tr>
                    <tr style="color: #ff6666;">
                        <td>R√∏ntgenstr√•ling</td>
                        <td>0.01 - 10 nm</td>
                        <td>30 PHz - 30 EHz</td>
                        <td>Medisinsk bildebehandling</td>
                    </tr>
                    <tr style="color: #a0a0ff;">
                        <td>Ultrafiolett (UV)</td>
                        <td>10 - 400 nm</td>
                        <td>750 THz - 30 PHz</td>
                        <td>Solen, desinfeksjon, solarium</td>
                    </tr>
                    <tr style="color: #44ff44;">
                        <td>Synlig lys</td>
                        <td>400 - 700 nm</td>
                        <td>430 - 750 THz</td>
                        <td>Det vi kan se!</td>
                    </tr>
                    <tr style="color: #ff8844;">
                        <td>Infrar√∏d (IR)</td>
                        <td>700 nm - 1 mm</td>
                        <td>300 GHz - 430 THz</td>
                        <td>Varme, fjernkontroller</td>
                    </tr>
                    <tr style="color: #ffff44;">
                        <td>Mikrob√∏lger</td>
                        <td>1 mm - 1 m</td>
                        <td>300 MHz - 300 GHz</td>
                        <td>Mikrob√∏lgeovn, WiFi, 5G, radar</td>
                    </tr>
                    <tr style="color: #888;">
                        <td>Radiob√∏lger</td>
                        <td>1 m - 100+ km</td>
                        <td>&lt; 300 MHz</td>
                        <td>Radio, TV, FM</td>
                    </tr>
                </tbody>
            </table>
            
            <h2>Synlig lys - det vi kan se</h2>
            <p>
                Menneske√∏yet kan bare oppfatte en liten del av spekteret: synlig lys mellom ca. 400-700 nm.
                Innenfor dette omr√•det ser vi ulike <strong>farger</strong>:
            </p>
            
            <div class="box">
                <div style="display: flex; justify-content: space-between; text-align: center;">
                    <div><div style="width: 40px; height: 40px; background: #8b00ff; border-radius: 50%; margin: 0 auto;"></div><small>Fiolett<br>380-450 nm</small></div>
                    <div><div style="width: 40px; height: 40px; background: #0000ff; border-radius: 50%; margin: 0 auto;"></div><small>Bl√•<br>450-495 nm</small></div>
                    <div><div style="width: 40px; height: 40px; background: #00ffff; border-radius: 50%; margin: 0 auto;"></div><small>Cyan<br>495-520 nm</small></div>
                    <div><div style="width: 40px; height: 40px; background: #00ff00; border-radius: 50%; margin: 0 auto;"></div><small>Gr√∏nn<br>520-565 nm</small></div>
                    <div><div style="width: 40px; height: 40px; background: #ffff00; border-radius: 50%; margin: 0 auto;"></div><small>Gul<br>565-590 nm</small></div>
                    <div><div style="width: 40px; height: 40px; background: #ff8800; border-radius: 50%; margin: 0 auto;"></div><small>Oransje<br>590-625 nm</small></div>
                    <div><div style="width: 40px; height: 40px; background: #ff0000; border-radius: 50%; margin: 0 auto;"></div><small>R√∏d<br>625-700 nm</small></div>
                </div>
            </div>
            
            <h2>UV-str√•ling - inndeling</h2>
            <p>Ultrafiolett str√•ling deles inn i tre kategorier basert p√• b√∏lgelengde og biologisk effekt:</p>
            
            <div class="box">
                <table>
                    <tr>
                        <td><strong>UV-A (315-400 nm)</strong></td>
                        <td>Passerer gjennom atmosf√¶ren. Gir solbrun, men ogs√• hudaldring. Brukes i solarium.</td>
                    </tr>
                    <tr>
                        <td><strong>UV-B (280-315 nm)</strong></td>
                        <td>Delvis stoppet av ozon. Gir solbrenthet og vitamin D-produksjon. Kan gi hudkreft.</td>
                    </tr>
                    <tr>
                        <td><strong>UV-C (100-280 nm)</strong></td>
                        <td>Stoppes helt av ozonlaget. <span style="color: #ff4444;">Ioniserende og sv√¶rt farlig!</span> Brukes til desinfeksjon.</td>
                    </tr>
                </table>
            </div>
            
            <div style="text-align: center; margin-top: 30px;">
                <button class="btn btn-secondary" onclick="showSection(1)">‚Üê Forrige</button>
                <button class="btn btn-primary" onclick="showSection(3)">Neste: Simulator ‚Üí</button>
            </div>
        </div>
        
        <!-- SEKSJON 2: SIMULATOR -->
        <div class="section" id="sec3">
            <h1>üî¨ Interaktiv b√∏lgelengde-simulator</h1>
            
            <p>
                Bruk kontrollene under for √• utforske sammenhengen mellom b√∏lgelengde, frekvens og energi.
                Se hvordan b√∏lgen endrer seg og hvilken type str√•ling du f√•r!
            </p>
            
            <div class="simulator">
                <div class="sim-title">üåä B√∏lge-simulator</div>
                <canvas id="waveCanvas" width="900" height="200" style="width: 100%; background: #050510;"></canvas>
                
                <div class="controls">
                    <div class="control-group">
                        <label>B√∏lgelengde: <span id="waveVal">500</span> nm</label>
                        <input type="range" id="waveSlider" min="1" max="1000" value="500" oninput="updateWave()">
                    </div>
                </div>
                
                <div class="value-display">
                    <div class="value-item">
                        <div class="value-number" id="dispWave">500</div>
                        <div class="value-label">B√∏lgelengde (nm)</div>
                    </div>
                    <div class="value-item">
                        <div class="value-number" id="dispFreq">600</div>
                        <div class="value-label">Frekvens (THz)</div>
                    </div>
                    <div class="value-item">
                        <div class="value-number" id="dispType">Synlig</div>
                        <div class="value-label">Type str√•ling</div>
                    </div>
                    <div class="value-item">
                        <div class="value-number" id="dispIon">Nei</div>
                        <div class="value-label">Ioniserende?</div>
                    </div>
                </div>
            </div>
            
            <div class="box" id="typeInfo">
                <h3 id="typeTitle">üëÅÔ∏è Synlig lys</h3>
                <p id="typeDesc">Dette er den delen av spekteret som √∏yet v√•rt kan oppfatte som farger.</p>
            </div>
            
            <h2>Pr√∏v selv!</h2>
            <ul>
                <li><strong>Dra til venstre</strong> (kort b√∏lgelengde) for √• se h√∏yenergi-str√•ling som UV, r√∏ntgen og gamma</li>
                <li><strong>Dra til h√∏yre</strong> (lang b√∏lgelengde) for √• se lavenergi-str√•ling som IR, mikrob√∏lger og radio</li>
                <li>Legg merke til hvordan <strong>frekvensen √∏ker</strong> n√•r b√∏lgelengden minker</li>
            </ul>
            
            <div class="box box-warning">
                <h3>‚ö†Ô∏è Ioniserende vs ikke-ioniserende</h3>
                <p>
                    N√•r b√∏lgelengden blir kortere enn ca. <strong>280 nm</strong> (UV-C og kortere), 
                    f√•r str√•lingen nok energi til √• <strong>ionisere atomer</strong> - dvs. sl√• l√∏s elektroner.
                    Dette gj√∏r den potensielt farlig for levende celler.
                </p>
            </div>
            
            <div style="text-align: center; margin-top: 30px;">
                <button class="btn btn-secondary" onclick="showSection(2)">‚Üê Forrige</button>
                <button class="btn btn-primary" onclick="showSection(4)">Neste: Ioniserende str√•ling ‚Üí</button>
            </div>
        </div>
        
        <!-- SEKSJON 3: IONISERENDE -->
        <div class="section" id="sec4">
            <h1>‚ö° Ioniserende str√•ling</h1>
            
            <div class="box box-highlight">
                <h3>Hva er ionisering?</h3>
                <p>
                    <strong>Ionisering</strong> er prosessen der str√•ling har nok energi til √• sl√• l√∏s 
                    elektroner fra atomer. N√•r et atom mister et elektron, blir det et <strong>ion</strong> 
                    (en ladet partikkel).
                </p>
            </div>
            
            <h2>Typer ioniserende str√•ling</h2>
            
            <div class="box">
                <h3 style="color: #ff4444;">1. Gammastr√•ling (Œ≥)</h3>
                <p><strong>Hva:</strong> Elektromagnetisk str√•ling med sv√¶rt kort b√∏lgelengde (&lt; 0.01 nm)</p>
                <p><strong>Kilde:</strong> Radioaktivt henfall, kjerneeksplosjoner</p>
                <p><strong>Egenskaper:</strong> Sv√¶rt gjennomtrengende - trenger tykk bly eller betong for √• stoppes</p>
                <p><strong>Bruk:</strong> Kreftbehandling (str√•lebehandling), sterilisering av medisinsk utstyr</p>
            </div>
            
            <div class="box">
                <h3 style="color: #ff6666;">2. R√∏ntgenstr√•ling</h3>
                <p><strong>Hva:</strong> EM-str√•ling med b√∏lgelengde 0.01-10 nm</p>
                <p><strong>Kilde:</strong> R√∏ntgenr√∏r, akselererte elektroner</p>
                <p><strong>Egenskaper:</strong> G√•r gjennom bl√∏tvev, stoppes delvis av bein og metall</p>
                <p><strong>Bruk:</strong> Medisinsk bildebehandling (se beinbrudd, tenner, lunger)</p>
            </div>
            
            <div class="box">
                <h3 style="color: #a0a0ff;">3. UV-C str√•ling</h3>
                <p><strong>Hva:</strong> Kortb√∏lget UV med b√∏lgelengde 100-280 nm</p>
                <p><strong>Kilde:</strong> Solen (stoppes av ozon), spesielle lamper</p>
                <p><strong>Egenskaper:</strong> Absorberes av ozonlaget, sv√¶rt skadelig for DNA</p>
                <p><strong>Bruk:</strong> Desinfeksjon, vannrensing, sterilisering</p>
            </div>
            
            <h2>Hvordan skader ioniserende str√•ling kroppen?</h2>
            
            <div class="simulator">
                <div class="sim-title">üí• Ioniseringsprosessen</div>
                <canvas id="ionCanvas" width="900" height="250" style="width: 100%; background: #050510;"></canvas>
            </div>
            
            <ol>
                <li><strong>Str√•ling treffer et molekyl</strong> - f.eks. et DNA-molekyl i en celle</li>
                <li><strong>Elektroner sl√•s l√∏s</strong> - molekylet blir ionisert eller √∏delagt</li>
                <li><strong>Kjemiske bindinger brytes</strong> - molekylet fungerer ikke lenger normalt</li>
                <li><strong>Cellen kan:</strong>
                    <ul>
                        <li>Reparere skaden (oftest ved sm√• doser)</li>
                        <li>D√∏ (apoptose)</li>
                        <li>Overleve med feil og dele seg ukontrollert ‚Üí <strong>kreft</strong></li>
                    </ul>
                </li>
            </ol>
            
            <div class="box box-warning">
                <h3>‚ö†Ô∏è Viktige faktorer for skade</h3>
                <ul>
                    <li><strong>Dose:</strong> Hvor mye str√•ling du f√•r</li>
                    <li><strong>Doserate:</strong> Hvor raskt du f√•r den (kort tid = verre)</li>
                    <li><strong>Type str√•ling:</strong> Alfa er verst innvendig, gamma er verst utvendig</li>
                    <li><strong>Hvilke organer:</strong> Celler som deler seg raskt (benmarg, tarm) er mest s√•rbare</li>
                </ul>
            </div>
            
            <div style="text-align: center; margin-top: 30px;">
                <button class="btn btn-secondary" onclick="showSection(3)">‚Üê Forrige</button>
                <button class="btn btn-primary" onclick="showSection(5)">Neste: Ikke-ioniserende str√•ling ‚Üí</button>
            </div>
        </div>
        
        <!-- SEKSJON 4: IKKE-IONISERENDE -->
        <div class="section" id="sec5">
            <h1>üì± Ikke-ioniserende str√•ling</h1>
            
            <div class="box box-success">
                <h3>‚úì Hva betyr ikke-ioniserende?</h3>
                <p>
                    <strong>Ikke-ioniserende str√•ling</strong> har for lav energi til √• sl√• l√∏s elektroner fra atomer.
                    Den kan ikke direkte skade DNA og er generelt <strong>trygg</strong> ved normale niv√•er.
                </p>
            </div>
            
            <h2>Typer ikke-ioniserende str√•ling</h2>
            
            <div class="box">
                <h3 style="color: #44ff44;">Synlig lys (400-700 nm)</h3>
                <p>Det vi kan se med √∏ynene. Helt trygt - uten lys kunne vi ikke eksistere!</p>
                <p><strong>Bruk:</strong> Belysning, kommunikasjon (fiberoptikk), fotosyntese i planter</p>
            </div>
            
            <div class="box">
                <h3 style="color: #ff8844;">Infrar√∏d str√•ling (700 nm - 1 mm)</h3>
                <p>Vi f√∏ler dette som <strong>varme</strong>. Alle varme objekter sender ut IR-str√•ling.</p>
                <p><strong>Bruk:</strong> Fjernkontroller, nattssyn, varmeterapi, termografi</p>
            </div>
            
            <div class="box">
                <h3 style="color: #ffff44;">Mikrob√∏lger (1 mm - 1 m)</h3>
                <p>Brukes til oppvarming og kommunikasjon. Inkluderer WiFi, Bluetooth, 4G/5G.</p>
                <p><strong>Bruk:</strong> Mikrob√∏lgeovn, mobiltelefoner, WiFi-rutere, radar, satellitt-TV</p>
            </div>
            
            <div class="box">
                <h3 style="color: #888888;">Radiob√∏lger (> 1 m)</h3>
                <p>De lengste b√∏lgene, med lavest energi. Brukes til kringkasting og kommunikasjon.</p>
                <p><strong>Bruk:</strong> FM/AM-radio, TV, NFC, RFID, amat√∏rradio</p>
            </div>
            
            <h2>Er mobilstr√•ling og 5G farlig?</h2>
            
            <div class="box box-success">
                <h3 style="color: #44cc88;">‚úì NEI - her er hvorfor:</h3>
                <ul>
                    <li>Mobilstr√•ling og 5G er <strong>ikke-ioniserende</strong> mikrob√∏lgestr√•ling</li>
                    <li>Energien er <strong>millioner av ganger</strong> for lav til √• skade DNA</li>
                    <li>Det eneste den kan gj√∏re er minimal <strong>oppvarming</strong> av vev</li>
                    <li><strong>Tusenvis av studier</strong> har unders√∏kt dette over flere ti√•r</li>
                    <li>Det er <strong>ingen vitenskapelig bevis</strong> for at mobilstr√•ling gir kreft eller andre sykdommer</li>
                </ul>
            </div>
            
            <div class="box">
                <h3>Sammenligning av energi</h3>
                <p>For √• ionisere et atom trengs ca. <strong>10 elektronvolt (eV)</strong> energi. Her er energien til ulike typer str√•ling:</p>
                <table>
                    <tr>
                        <td>5G-signal (39 GHz)</td>
                        <td style="color: #44cc88;">0.00016 eV</td>
                        <td style="color: #888;">60 000x for lite til √• ionisere</td>
                    </tr>
                    <tr>
                        <td>WiFi (2.4 GHz)</td>
                        <td style="color: #44cc88;">0.00001 eV</td>
                        <td style="color: #888;">1 million x for lite</td>
                    </tr>
                    <tr>
                        <td>Synlig lys (gr√∏nt)</td>
                        <td style="color: #44cc88;">2.5 eV</td>
                        <td style="color: #888;">4x for lite</td>
                    </tr>
                    <tr>
                        <td>UV-C (254 nm)</td>
                        <td style="color: #ff4444;">4.9 eV</td>
                        <td style="color: #ff4444;">Nesten nok ‚Üí farlig</td>
                    </tr>
                    <tr>
                        <td>R√∏ntgen</td>
                        <td style="color: #ff4444;">100+ eV</td>
                        <td style="color: #ff4444;">Ioniserende!</td>
                    </tr>
                </table>
            </div>
            
            <div style="text-align: center; margin-top: 30px;">
                <button class="btn btn-secondary" onclick="showSection(4)">‚Üê Forrige</button>
                <button class="btn btn-primary" onclick="showSection(6)">Neste: Str√•ledose ‚Üí</button>
            </div>
        </div>
        
        <!-- SEKSJON 5: STR√ÖLEDOSE -->
        <div class="section" id="sec6">
            <h1>üíä Str√•ledose og m√•leenheter</h1>
            
            <h2>M√•leenheter for str√•ling</h2>
            
            <div class="box">
                <h3 style="color: #00ffff;">Becquerel (Bq)</h3>
                <p>M√•ler <strong>aktiviteten</strong> til en radioaktiv kilde.</p>
                <p><strong>1 Bq = 1 kjernereaksjon (henfall) per sekund</strong></p>
                <p style="color: #888;">Brukes for √• angi hvor "aktiv" en kilde er, f.eks. radon i Bq/m¬≥</p>
            </div>
            
            <div class="box">
                <h3 style="color: #ff8844;">Gray (Gy)</h3>
                <p>M√•ler <strong>absorbert dose</strong> - hvor mye energi som absorberes per kg vev.</p>
                <p><strong>1 Gy = 1 Joule per kilogram</strong></p>
                <p style="color: #888;">Tar ikke hensyn til type str√•ling eller hvilket vev som treffes.</p>
            </div>
            
            <div class="box">
                <h3 style="color: #ff4444;">Sievert (Sv)</h3>
                <p>M√•ler <strong>ekvivalent dose</strong> - biologisk effekt p√• kroppen.</p>
                <p><strong>1 Sv = 1 Gy √ó vektingsfaktor</strong></p>
                <p style="color: #888;">Tar hensyn til type str√•ling (alfa vektes h√∏yere) og hvilke organer.</p>
            </div>
            
            <h2>Typiske str√•ledoser</h2>
            
            <div class="simulator">
                <div class="sim-title">üìä Str√•ledoser i perspektiv</div>
                <table>
                    <thead>
                        <tr>
                            <th>Kilde</th>
                            <th>Dose</th>
                            <th>Kommentar</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>üçå Spise en banan</td>
                            <td style="color: #44cc88;">0.0001 mSv</td>
                            <td>Bananer inneholder kalium-40</td>
                        </tr>
                        <tr>
                            <td>ü¶∑ Tannr√∏ntgen</td>
                            <td style="color: #44cc88;">0.01 mSv</td>
                            <td>Sv√¶rt lav dose</td>
                        </tr>
                        <tr>
                            <td>‚úàÔ∏è Flytur Oslo-New York</td>
                            <td style="color: #44cc88;">0.08 mSv</td>
                            <td>Kosmisk str√•ling i h√∏yden</td>
                        </tr>
                        <tr>
                            <td>ü´Å R√∏ntgen brystkasse</td>
                            <td style="color: #44cc88;">0.1 mSv</td>
                            <td>Lav dose</td>
                        </tr>
                        <tr>
                            <td>üåç Naturlig bakgrunn/√•r</td>
                            <td style="color: #ffaa00;">2-3 mSv</td>
                            <td>Radon, kosmisk, mat, jord</td>
                        </tr>
                        <tr>
                            <td>üè• CT-skanning</td>
                            <td style="color: #ffaa00;">2-15 mSv</td>
                            <td>Avhenger av type unders√∏kelse</td>
                        </tr>
                        <tr>
                            <td>‚ò¢Ô∏è Grense str√•learbeidere/√•r</td>
                            <td style="color: #ff8844;">20 mSv</td>
                            <td>Yrkesgrense i Norge</td>
                        </tr>
                        <tr>
                            <td>ü§¢ Akutt str√•lesyke</td>
                            <td style="color: #ff4444;">> 1000 mSv</td>
                            <td>Kvalme, h√•rtap, kan v√¶re d√∏delig</td>
                        </tr>
                        <tr>
                            <td>üíÄ D√∏delig dose (LD50)</td>
                            <td style="color: #ff4444;">4000-5000 mSv</td>
                            <td>50% d√∏r uten behandling</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div class="box box-success">
                <h3>üí° Perspektiv</h3>
                <p>
                    Du f√•r ca. <strong>2-3 mSv per √•r</strong> fra naturlige kilder (radon, kosmisk str√•ling, mat, jord).
                    En tannr√∏ntgen gir bare 0.01 mSv - du m√•tte ta <strong>200-300 tannr√∏ntgen</strong> for √• 
                    f√• like mye som du f√•r naturlig p√• ett √•r!
                </p>
            </div>
            
            <div style="text-align: center; margin-top: 30px;">
                <button class="btn btn-secondary" onclick="showSection(5)">‚Üê Forrige</button>
                <button class="btn btn-primary" onclick="showSection(7)">Neste: Bruksomr√•der ‚Üí</button>
            </div>
        </div>
        
        <!-- SEKSJON 6: BRUKSOMR√ÖDER -->
        <div class="section" id="sec7">
            <h1>üîß Bruksomr√•der for EM-str√•ling</h1>
            
            <p>
                EM-str√•ling brukes i nesten alle aspekter av moderne liv - fra medisin til kommunikasjon,
                fra matlagning til vitenskapelig forskning. Her er noen viktige bruksomr√•der.
            </p>
            
            <div class="box">
                <h3 style="color: #ff4444;">üè• Medisin</h3>
                <ul>
                    <li><strong>R√∏ntgen:</strong> Se beinbrudd, tannproblemer, lungesykdommer</li>
                    <li><strong>CT-skanning:</strong> 3D-bilder av kroppens indre</li>
                    <li><strong>MR:</strong> Detaljerte bilder uten ioniserende str√•ling</li>
                    <li><strong>Str√•lebehandling:</strong> Drepe kreftceller med gamma/r√∏ntgen</li>
                    <li><strong>UV-terapi:</strong> Behandle hudsykdommer som psoriasis</li>
                    <li><strong>Infrar√∏d:</strong> Varmeterapi for muskelsmerter</li>
                </ul>
            </div>
            
            <div class="box">
                <h3 style="color: #00aaff;">üì° Kommunikasjon</h3>
                <ul>
                    <li><strong>Radio/TV:</strong> Radiob√∏lger for kringkasting</li>
                    <li><strong>Mobiltelefon:</strong> Mikrob√∏lger (4G: 700-2600 MHz, 5G: opp til 39 GHz)</li>
                    <li><strong>WiFi:</strong> Mikrob√∏lger (2.4 GHz og 5 GHz)</li>
                    <li><strong>Bluetooth:</strong> Mikrob√∏lger (2.4 GHz)</li>
                    <li><strong>Satellitt:</strong> Mikrob√∏lger for GPS, TV, internett</li>
                    <li><strong>Fiberoptikk:</strong> Infrar√∏dt lys i glassfiberkabel</li>
                </ul>
            </div>
            
            <div class="box">
                <h3 style="color: #44cc88;">üè† Hverdagen</h3>
                <ul>
                    <li><strong>Mikrob√∏lgeovn:</strong> Mikrob√∏lger (2.45 GHz) f√•r vannmolekyler til √• vibrere</li>
                    <li><strong>Fjernkontroll:</strong> Infrar√∏d str√•ling</li>
                    <li><strong>Lysp√¶rer:</strong> Synlig lys (og noe UV/IR avhengig av type)</li>
                    <li><strong>Solkrem:</strong> Absorberer UV-str√•ling</li>
                    <li><strong>Induksjonsplate:</strong> Vekselstr√∏m skaper varme i gryten</li>
                </ul>
            </div>
            
            <div class="box">
                <h3 style="color: #ff8844;">üî¨ Vitenskap og industri</h3>
                <ul>
                    <li><strong>Teleskoper:</strong> Observerer alle typer EM-str√•ling fra verdensrommet</li>
                    <li><strong>Spektroskopi:</strong> Identifiserer stoffer ved √• analysere absorbert/emittert lys</li>
                    <li><strong>Radar:</strong> Bruker mikrob√∏lger til v√¶rvarsling og flynavigasjon</li>
                    <li><strong>LIDAR:</strong> Laser til 3D-kartlegging</li>
                    <li><strong>Desinfeksjon:</strong> UV-C dreper bakterier og virus</li>
                    <li><strong>Varmebehandling:</strong> Infrar√∏d til industrielle prosesser</li>
                </ul>
            </div>
            
            <div style="text-align: center; margin-top: 30px;">
                <button class="btn btn-secondary" onclick="showSection(6)">‚Üê Forrige</button>
                <button class="btn btn-primary" onclick="showSection(8)">Neste: Flashcards ‚Üí</button>
            </div>
        </div>
        
        <!-- SEKSJON 7: FLASHCARDS -->
        <div class="section" id="sec8">
            <h1>üÉè Flashcards</h1>
            <p>Klikk p√• kortet for √• snu det. Bruk pilene for √• bla mellom kort.</p>
            
            <div class="flash-counter" id="flashCounter">Kort 1 av 15</div>
            
            <div class="flashcard-container">
                <div class="flashcard" id="flashcard" onclick="flipCard()">
                    <div class="flash-face flash-front">
                        <div class="flash-label">Sp√∏rsm√•l</div>
                        <div class="flash-text" id="flashQ">Laster...</div>
                        <div class="flash-hint">Klikk for √• se svaret</div>
                    </div>
                    <div class="flash-face flash-back">
                        <div class="flash-label">Svar</div>
                        <div class="flash-text" id="flashA">Laster...</div>
                        <div class="flash-hint">Klikk for √• g√• tilbake</div>
                    </div>
                </div>
            </div>
            
            <div class="flash-controls">
                <button class="flash-btn" onclick="prevCard()">‚Üê Forrige</button>
                <button class="flash-btn" onclick="shuffleCards()">üîÄ Tilfeldig</button>
                <button class="flash-btn" onclick="nextCard()">Neste ‚Üí</button>
            </div>
            
            <div style="text-align: center; margin-top: 30px;">
                <button class="btn btn-secondary" onclick="showSection(7)">‚Üê Forrige</button>
                <button class="btn btn-primary" onclick="showSection(9)">Neste: Quiz ‚Üí</button>
            </div>
        </div>
        
        <!-- SEKSJON 8: QUIZ -->
        <div class="section" id="sec9">
            <h1>‚ùì Quiz</h1>
            <p>Test kunnskapene dine! Velg riktig svar p√• hvert sp√∏rsm√•l.</p>
            
            <div id="quizContainer"></div>
            
            <div style="text-align: center; margin-top: 30px;">
                <button class="btn btn-primary" id="checkBtn" onclick="checkQuiz()">Sjekk svarene</button>
                <button class="btn btn-secondary" id="retryBtn" onclick="resetQuiz()" style="display: none;">Pr√∏v igjen</button>
            </div>
            
            <div class="result-box" id="resultBox" style="display: none;">
                <p>Du fikk:</p>
                <div class="result-score" id="resultScore">0/12</div>
                <p id="resultMsg"></p>
            </div>
            
            <div style="text-align: center; margin-top: 30px;">
                <button class="btn btn-secondary" onclick="showSection(8)">‚Üê Tilbake til Flashcards</button>
                <button class="btn btn-primary" onclick="showSection(10)">Neste: Oppgaver ‚Üí</button>
            </div>
        </div>
        
        <!-- SEKSJON 9: SKRIVEOPPGAVER -->
        <div class="section" id="sec10">
            <h1>üìù Skriveoppgaver</h1>
            <p>Svar p√• oppgavene under. Svarene lagres automatisk i nettleseren.</p>
            
            <div class="box">
                <h3>Oppgave 1: Det elektromagnetiske spekteret</h3>
                <p>Forklar sammenhengen mellom b√∏lgelengde, frekvens og energi for elektromagnetisk str√•ling. Gi eksempler p√• str√•ling med h√∏y og lav energi.</p>
                <textarea id="oppg1" rows="6" style="width:100%; background:#111; color:#fff; border:1px solid #333; border-radius:8px; padding:12px; margin-top:10px; font-size:1rem;" placeholder="Skriv svaret ditt her..." onchange="saveAnswers()"></textarea>
            </div>
            
            <div class="box">
                <h3>Oppgave 2: Ioniserende vs ikke-ioniserende</h3>
                <p>Hva er forskjellen p√• ioniserende og ikke-ioniserende str√•ling? Hvorfor er den ene farligere enn den andre? Gi minst to eksempler p√• hver type.</p>
                <textarea id="oppg2" rows="6" style="width:100%; background:#111; color:#fff; border:1px solid #333; border-radius:8px; padding:12px; margin-top:10px; font-size:1rem;" placeholder="Skriv svaret ditt her..." onchange="saveAnswers()"></textarea>
            </div>
            
            <div class="box">
                <h3>Oppgave 3: Str√•ling i hverdagen</h3>
                <p>Beskriv minst 5 m√•ter du m√∏ter elektromagnetisk str√•ling i hverdagen. For hver type, angi hvilken del av spekteret det er og om det er farlig.</p>
                <textarea id="oppg3" rows="6" style="width:100%; background:#111; color:#fff; border:1px solid #333; border-radius:8px; padding:12px; margin-top:10px; font-size:1rem;" placeholder="Skriv svaret ditt her..." onchange="saveAnswers()"></textarea>
            </div>
            
            <div class="box">
                <h3>Oppgave 4: Mobilstr√•ling og helse</h3>
                <p>Mange er bekymret for str√•ling fra mobiltelefoner og 5G. Forklar med faglige argumenter hvorfor denne bekymringen er ubegrunnet. Bruk begreper som ionisering, energi og b√∏lgelengde.</p>
                <textarea id="oppg4" rows="6" style="width:100%; background:#111; color:#fff; border:1px solid #333; border-radius:8px; padding:12px; margin-top:10px; font-size:1rem;" placeholder="Skriv svaret ditt her..." onchange="saveAnswers()"></textarea>
            </div>
            
            <div class="box">
                <h3>Oppgave 5: Str√•ledoser</h3>
                <p>En person f√•r en CT-skanning (ca. 10 mSv) og tar en flytur Oslo-New York (0.08 mSv). Sammenlign disse dosene med naturlig bakgrunnsstr√•ling (2-3 mSv/√•r). Er det grunn til bekymring?</p>
                <textarea id="oppg5" rows="6" style="width:100%; background:#111; color:#fff; border:1px solid #333; border-radius:8px; padding:12px; margin-top:10px; font-size:1rem;" placeholder="Skriv svaret ditt her..." onchange="saveAnswers()"></textarea>
            </div>
            
            <div class="box">
                <h3>Oppgave 6: Bruksomr√•der for EM-str√•ling</h3>
                <p>Velg to bruksomr√•der for EM-str√•ling (f.eks. r√∏ntgen i medisin, mikrob√∏lgeovn, WiFi). Forklar detaljert hvordan str√•lingen brukes og hvilke egenskaper som gj√∏r den egnet til form√•let.</p>
                <textarea id="oppg6" rows="8" style="width:100%; background:#111; color:#fff; border:1px solid #333; border-radius:8px; padding:12px; margin-top:10px; font-size:1rem;" placeholder="Skriv svaret ditt her..." onchange="saveAnswers()"></textarea>
            </div>
            
            <div style="text-align: center; margin-top: 30px;">
                <button class="btn btn-secondary" onclick="downloadAnswers()">üì• Last ned Word</button>
                <a href="index.html" class="btn btn-primary" style="display: inline-block; text-decoration: none; margin-left: 15px;">‚úì Fullf√∏r modul</a>
            </div>
        </div>
    </div>
    
    <script>
        // === NAVIGATION ===
        let currentSection = 0;
        const totalSections = 9;
        
        function showSection(idx) {
            document.querySelectorAll('.section').forEach((s, i) => {
                s.classList.toggle('active', i === idx);
            });
            document.querySelectorAll('.tab').forEach((t, i) => {
                t.classList.toggle('active', i === idx);
            });
            currentSection = idx;
            updateProgress();
            window.scrollTo(0, 0);
            
            // Start simulations when needed
            if (idx === 1) { initEMOrigin(); initBremsstrahlung(); }
            if (idx === 3) startWaveSim();
            if (idx === 4) startIonSim();
        }
        
        function updateProgress() {
            const progress = Math.round((currentSection / (totalSections - 1)) * 100);
            document.getElementById('progressLabel').textContent = progress + '% fullf√∏rt';
        }
        
        // === WAVE SIMULATOR ===
        let waveAnim;
        function startWaveSim() {
            const canvas = document.getElementById('waveCanvas');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            const W = canvas.width, H = canvas.height;
            let phase = 0;
            
            function draw() {
                const wavelength = parseInt(document.getElementById('waveSlider').value);
                updateWave();
                
                ctx.fillStyle = '#050510';
                ctx.fillRect(0, 0, W, H);
                
                // Draw equilibrium line
                ctx.strokeStyle = '#333';
                ctx.setLineDash([5, 5]);
                ctx.beginPath();
                ctx.moveTo(0, H/2);
                ctx.lineTo(W, H/2);
                ctx.stroke();
                ctx.setLineDash([]);
                
                // Calculate wave properties
                const freq = 1000 / wavelength;
                const color = getWaveColor(wavelength);
                
                // Draw wave
                ctx.strokeStyle = color;
                ctx.lineWidth = 3;
                ctx.beginPath();
                for (let x = 0; x < W; x++) {
                    const y = H/2 + 60 * Math.sin((x / (100/freq)) + phase);
                    x === 0 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);
                }
                ctx.stroke();
                
                phase += 0.05;
                waveAnim = requestAnimationFrame(draw);
            }
            
            if (waveAnim) cancelAnimationFrame(waveAnim);
            draw();
        }
        
        function getWaveColor(wavelength) {
            if (wavelength < 10) return '#ff0000';
            if (wavelength < 100) return '#ff4444';
            if (wavelength < 280) return '#ff00ff';
            if (wavelength < 380) return '#8800ff';
            if (wavelength < 450) return '#0000ff';
            if (wavelength < 495) return '#00ffff';
            if (wavelength < 570) return '#00ff00';
            if (wavelength < 590) return '#ffff00';
            if (wavelength < 620) return '#ff8800';
            if (wavelength < 700) return '#ff0000';
            if (wavelength < 1000) return '#880000';
            return '#444444';
        }
        
        function updateWave() {
            const wavelength = parseInt(document.getElementById('waveSlider').value);
            const freq = (3e17 / (wavelength * 1e-9)) / 1e12; // THz
            
            document.getElementById('waveVal').textContent = wavelength;
            document.getElementById('dispWave').textContent = wavelength;
            document.getElementById('dispFreq').textContent = freq.toFixed(0);
            
            let type, ion, desc, title;
            if (wavelength < 10) {
                type = 'Gamma'; ion = 'JA ‚ö†Ô∏è'; title = '‚ò¢Ô∏è Gammastr√•ling'; 
                desc = 'Sv√¶rt h√∏y energi str√•ling fra radioaktivt henfall. Ioniserende og farlig!';
            } else if (wavelength < 100) {
                type = 'R√∏ntgen'; ion = 'JA ‚ö†Ô∏è'; title = 'ü©ª R√∏ntgenstr√•ling';
                desc = 'Brukes i medisin til √• se gjennom kroppen. Ioniserende - bruk med forsiktighet.';
            } else if (wavelength < 280) {
                type = 'UV-C'; ion = 'JA ‚ö†Ô∏è'; title = '‚ö° UV-C str√•ling';
                desc = 'Kortb√∏lget UV. Stoppes av ozonlaget. Ioniserende og sv√¶rt skadelig for DNA.';
            } else if (wavelength < 380) {
                type = 'UV'; ion = 'Delvis'; title = 'üîÜ UV-A/B str√•ling';
                desc = 'Kan gi solbrenthet og hudskader. UV-B gir vitamin D. Bruk solkrem!';
            } else if (wavelength < 700) {
                type = 'Synlig'; ion = 'Nei ‚úì'; title = 'üëÅÔ∏è Synlig lys';
                desc = 'Den delen av spekteret √∏yet v√•rt kan se som farger. Helt trygt!';
            } else if (wavelength < 1000) {
                type = 'Infrar√∏d'; ion = 'Nei ‚úì'; title = 'üî• Infrar√∏d str√•ling';
                desc = 'Vi f√∏ler dette som varme. Brukes i fjernkontroller og varmeterapi.';
            } else {
                type = 'Mikro/Radio'; ion = 'Nei ‚úì'; title = 'üì° Mikrob√∏lger/Radio';
                desc = 'Brukes til WiFi, mobiltelefon, radio, TV. Helt trygt ved normale niv√•er!';
            }
            
            document.getElementById('dispType').textContent = type;
            document.getElementById('dispIon').textContent = ion;
            document.getElementById('dispIon').style.color = ion.includes('JA') ? '#ff4444' : '#44cc88';
            document.getElementById('typeTitle').textContent = title;
            document.getElementById('typeDesc').textContent = desc;
        }
        
        // === ION SIMULATOR ===
        let ionAnim;
        function startIonSim() {
            const canvas = document.getElementById('ionCanvas');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            const W = canvas.width, H = canvas.height;
            let t = 0;
            
            function draw() {
                ctx.fillStyle = '#050510';
                ctx.fillRect(0, 0, W, H);
                
                // Draw atom
                const atomX = 450, atomY = H/2;
                
                // Nucleus
                ctx.fillStyle = '#ff4444';
                ctx.beginPath();
                ctx.arc(atomX, atomY, 20, 0, Math.PI * 2);
                ctx.fill();
                ctx.fillStyle = '#fff';
                ctx.font = '12px sans-serif';
                ctx.textAlign = 'center';
                ctx.fillText('+', atomX, atomY + 4);
                
                // Electrons
                for (let i = 0; i < 3; i++) {
                    const angle = (t * 0.02 + i * 2.09);
                    const radius = 50 + i * 15;
                    const ex = atomX + Math.cos(angle) * radius;
                    const ey = atomY + Math.sin(angle) * radius;
                    
                    // Knock away electron if radiation hits
                    let exx = ex, eyy = ey;
                    if (i === 0 && t > 100 && t < 200) {
                        exx = ex + (t - 100) * 2;
                        eyy = ey - (t - 100) * 1.5;
                    }
                    
                    ctx.fillStyle = '#00ffff';
                    ctx.beginPath();
                    ctx.arc(exx, eyy, 8, 0, Math.PI * 2);
                    ctx.fill();
                    ctx.fillStyle = '#000';
                    ctx.font = '10px sans-serif';
                    ctx.fillText('‚àí', exx, eyy + 3);
                }
                
                // Radiation beam
                if (t < 120) {
                    ctx.strokeStyle = '#ff0000';
                    ctx.lineWidth = 4;
                    ctx.beginPath();
                    ctx.moveTo(50 + t * 3, H/2 - 20);
                    ctx.lineTo(80 + t * 3, H/2 - 20);
                    ctx.stroke();
                    
                    // Label
                    ctx.fillStyle = '#ff4444';
                    ctx.font = '14px sans-serif';
                    ctx.fillText('Œ≥-str√•ling ‚Üí', 70, 40);
                }
                
                // Labels
                ctx.fillStyle = '#888';
                ctx.font = '12px sans-serif';
                ctx.textAlign = 'left';
                ctx.fillText('Atom', atomX - 15, H - 20);
                
                if (t > 100 && t < 250) {
                    ctx.fillStyle = '#ff4444';
                    ctx.fillText('Elektron sl√•s l√∏s!', atomX + 80, 60);
                }
                
                if (t > 250) {
                    ctx.fillStyle = '#ffaa00';
                    ctx.fillText('Atomet er n√• et ION (ladet)', atomX - 80, H - 20);
                }
                
                t++;
                if (t > 400) t = 0;
                ionAnim = requestAnimationFrame(draw);
            }
            
            if (ionAnim) cancelAnimationFrame(ionAnim);
            draw();
        }
        
        // === FLASHCARDS ===
        const flashcards = [
            { q: 'Hva er b√∏lgelengden for synlig lys?', a: '400-700 nanometer (nm)' },
            { q: 'Hvilken EM-str√•ling har h√∏yest energi?', a: 'Gammastr√•ling (kortest b√∏lgelengde)' },
            { q: 'Hva er lysets hastighet?', a: '299 792 458 m/s ‚âà 300 000 km/s' },
            { q: 'Hva betyr ioniserende str√•ling?', a: 'Str√•ling med nok energi til √• sl√• l√∏s elektroner fra atomer' },
            { q: 'Er mobilstr√•ling/5G farlig?', a: 'Nei - det er ikke-ioniserende str√•ling med for lav energi til √• skade DNA' },
            { q: 'Hva m√•les str√•ledose i?', a: 'Sievert (Sv) eller millisievert (mSv)' },
            { q: 'Hvor mye naturlig str√•ling f√•r vi per √•r?', a: 'Ca. 2-3 mSv fra bakgrunnsstr√•ling' },
            { q: 'Hva er sammenhengen b√∏lgelengde-energi?', a: 'Kort b√∏lgelengde = h√∏y frekvens = h√∏y energi' },
            { q: 'Hva brukes r√∏ntgenstr√•ling til?', a: 'Medisinsk bildebehandling (se bein, tenner, lunger)' },
            { q: 'Hva brukes mikrob√∏lger til?', a: 'Mikrob√∏lgeovn, WiFi, mobiltelefoner, 4G/5G, radar' },
            { q: 'Formel: c = ?', a: 'c = Œª √ó f (lyshastighet = b√∏lgelengde √ó frekvens)' },
            { q: 'Hva er UV-C str√•ling?', a: 'Kortb√∏lget UV (100-280 nm) som er ioniserende. Stoppes av ozonlaget.' },
            { q: 'Hva er infrar√∏d str√•ling?', a: 'Varmestr√•ling (700 nm - 1 mm). Vi f√∏ler det som varme.' },
            { q: 'Hvilke typer EM-str√•ling er ioniserende?', a: 'Gamma, r√∏ntgen, og UV-C' },
            { q: 'Hva er 1 Becquerel?', a: '1 kjernereaksjon (henfall) per sekund - m√•ler aktivitet' }
        ];
        
        let currentCard = 0;
        let isFlipped = false;
        
        function renderCard() {
            document.getElementById('flashQ').textContent = flashcards[currentCard].q;
            document.getElementById('flashA').textContent = flashcards[currentCard].a;
            document.getElementById('flashCounter').textContent = `Kort ${currentCard + 1} av ${flashcards.length}`;
            document.getElementById('flashcard').classList.remove('flipped');
            isFlipped = false;
        }
        
        function flipCard() {
            document.getElementById('flashcard').classList.toggle('flipped');
            isFlipped = !isFlipped;
        }
        
        function nextCard() {
            currentCard = (currentCard + 1) % flashcards.length;
            renderCard();
        }
        
        function prevCard() {
            currentCard = (currentCard - 1 + flashcards.length) % flashcards.length;
            renderCard();
        }
        
        function shuffleCards() {
            currentCard = Math.floor(Math.random() * flashcards.length);
            renderCard();
        }
        
        // === QUIZ ===
        const quizQuestions = [
            { q: 'Hvilken EM-str√•ling har lengst b√∏lgelengde?', o: ['Gamma', 'R√∏ntgen', 'Synlig', 'Radio'], c: 3 },
            { q: 'Hva er lysets hastighet?', o: ['300 km/s', '3000 km/s', '300 000 km/s', '3 mill km/s'], c: 2 },
            { q: 'Hvilken str√•ling er IKKE ioniserende?', o: ['Gamma', 'R√∏ntgen', 'UV-C', 'Mikrob√∏lger'], c: 3 },
            { q: 'Kort b√∏lgelengde betyr?', o: ['Lav energi', 'H√∏y energi', 'Lav frekvens', 'Ingen sammenheng'], c: 1 },
            { q: 'Hva brukes infrar√∏d str√•ling til?', o: ['R√∏ntgenbilder', 'Fjernkontroll', 'Desinfeksjon', 'Str√•lebehandling'], c: 1 },
            { q: 'Er 5G farlig?', o: ['Ja, sv√¶rt', 'Ja, litt', 'Nei', 'Ukjent'], c: 2 },
            { q: 'B√∏lgelengde for synlig lys?', o: ['1-10 nm', '100-400 nm', '400-700 nm', '1000+ nm'], c: 2 },
            { q: 'Hva kan ioniserende str√•ling gj√∏re?', o: ['Varme mat', 'Skade DNA', 'Sende WiFi', 'Ingenting'], c: 1 },
            { q: 'Hva brukes UV-C til?', o: ['Solarium', 'Desinfeksjon', 'WiFi', 'Oppvarming'], c: 1 },
            { q: 'Hvor mye naturlig str√•ling f√•r vi per √•r?', o: ['0.1 mSv', '2-3 mSv', '50 mSv', '1000 mSv'], c: 1 },
            { q: 'Hva m√•les aktivitet i?', o: ['Sievert', 'Gray', 'Becquerel', 'Hertz'], c: 2 },
            { q: 'Formel for b√∏lgehastighet?', o: ['c = Œª + f', 'c = Œª √ó f', 'c = Œª / f', 'c = Œª¬≤'], c: 1 }
        ];
        
        let quizAnswers = {};
        let quizChecked = false;
        
        function renderQuiz() {
            const container = document.getElementById('quizContainer');
            container.innerHTML = quizQuestions.map((q, qi) => `
                <div class="quiz-question" id="q${qi}">
                    <div class="quiz-text"><strong>${qi + 1}.</strong> ${q.q}</div>
                    <div class="quiz-options">
                        ${q.o.map((opt, oi) => `
                            <div class="quiz-option" onclick="selectAnswer(${qi}, ${oi})" id="q${qi}o${oi}">${opt}</div>
                        `).join('')}
                    </div>
                </div>
            `).join('');
        }
        
        function selectAnswer(qi, oi) {
            if (quizChecked) return;
            quizAnswers[qi] = oi;
            
            // Update UI
            quizQuestions[qi].o.forEach((_, i) => {
                document.getElementById(`q${qi}o${i}`).classList.toggle('selected', i === oi);
            });
        }
        
        function checkQuiz() {
            quizChecked = true;
            let score = 0;
            
            quizQuestions.forEach((q, qi) => {
                const qEl = document.getElementById(`q${qi}`);
                const userAnswer = quizAnswers[qi];
                
                if (userAnswer === q.c) {
                    score++;
                    qEl.classList.add('correct');
                } else {
                    qEl.classList.add('wrong');
                }
                
                // Show correct answer
                document.getElementById(`q${qi}o${q.c}`).classList.add('correct-answer');
                if (userAnswer !== undefined && userAnswer !== q.c) {
                    document.getElementById(`q${qi}o${userAnswer}`).classList.add('wrong-answer');
                }
            });
            
            // Show result
            const resultBox = document.getElementById('resultBox');
            const resultScore = document.getElementById('resultScore');
            const resultMsg = document.getElementById('resultMsg');
            
            resultBox.style.display = 'block';
            resultScore.textContent = `${score}/${quizQuestions.length}`;
            
            if (score >= 10) {
                resultScore.className = 'result-score good';
                resultMsg.textContent = 'üéâ Utmerket! Du har god kontroll p√• stoffet!';
            } else if (score >= 7) {
                resultScore.className = 'result-score medium';
                resultMsg.textContent = 'üëç Bra jobbet! Les gjennom det du bommet p√•.';
            } else {
                resultScore.className = 'result-score bad';
                resultMsg.textContent = 'üìö Du b√∏r repetere stoffet og pr√∏ve igjen.';
            }
            
            document.getElementById('checkBtn').style.display = 'none';
            document.getElementById('retryBtn').style.display = 'inline-block';
            
            // Mark module as complete if good score
            if (score >= 7) {
                localStorage.setItem('naturfag_em_done', 'true');
            }
        }
        
        function resetQuiz() {
            quizAnswers = {};
            quizChecked = false;
            document.getElementById('resultBox').style.display = 'none';
            document.getElementById('checkBtn').style.display = 'inline-block';
            document.getElementById('retryBtn').style.display = 'none';
            renderQuiz();
        }
        
        // === INIT ===
        renderCard();
        renderQuiz();
        loadAnswers();
        
        // === EM ORIGIN ANIMATION (Oscillerende ladning) ===
        let emAnimRunning = true;
        let emTick = 0;
        let emSpeed = 1;
        let emAnimFrame;
        
        function initEMOrigin() {
            drawEMOrigin();
        }
        
        function drawEMOrigin() {
            const canvas = document.getElementById('emOriginCanvas');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            const W = canvas.width, H = canvas.height;
            
            ctx.fillStyle = '#050510';
            ctx.fillRect(0, 0, W, H);
            
            const centerX = 80;
            const centerY = H / 2;
            
            // Antenne (vertikal linje)
            ctx.strokeStyle = '#666';
            ctx.lineWidth = 4;
            ctx.beginPath();
            ctx.moveTo(centerX, centerY - 80);
            ctx.lineTo(centerX, centerY + 80);
            ctx.stroke();
            
            // Oscillerende elektron
            const electronY = centerY + Math.sin(emTick * 0.08 * emSpeed) * 60;
            ctx.fillStyle = '#ffff00';
            ctx.shadowColor = '#ffff00';
            ctx.shadowBlur = 15;
            ctx.beginPath();
            ctx.arc(centerX, electronY, 12, 0, Math.PI * 2);
            ctx.fill();
            ctx.shadowBlur = 0;
            
            // e‚Åª label
            ctx.fillStyle = '#000';
            ctx.font = 'bold 10px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('e‚Åª', centerX, electronY + 4);
            
            // EM-b√∏lger som brer seg utover
            const waveStartX = 120;
            const numWaves = 12;
            
            for (let i = 0; i < numWaves; i++) {
                const waveX = waveStartX + i * 55 - (emTick * 2 * emSpeed) % 55;
                if (waveX < waveStartX - 20 || waveX > W + 20) continue;
                
                const alpha = Math.max(0, 1 - (waveX - waveStartX) / (W - waveStartX));
                
                // Elektrisk felt (E) - r√∏d, vertikal oscillasjon
                ctx.strokeStyle = `rgba(255, 68, 68, ${alpha})`;
                ctx.lineWidth = 3;
                ctx.beginPath();
                for (let x = 0; x <= 50; x++) {
                    const px = waveX + x;
                    const py = centerY + Math.sin((x + emTick * emSpeed) * 0.15) * 40;
                    if (x === 0) ctx.moveTo(px, py);
                    else ctx.lineTo(px, py);
                }
                ctx.stroke();
                
                // Magnetisk felt (B) - bl√•, "inn/ut av skjermen" visualisert som sirkler
                ctx.strokeStyle = `rgba(68, 136, 255, ${alpha})`;
                ctx.lineWidth = 2;
                const bPhase = Math.sin((emTick * emSpeed) * 0.15) * 20;
                
                // Vis B-felt som dots (inn/ut av skjermen)
                for (let bx = 0; bx < 50; bx += 12) {
                    const dotX = waveX + bx;
                    const dotPhase = Math.sin((bx + emTick * emSpeed) * 0.15);
                    ctx.beginPath();
                    if (dotPhase > 0) {
                        // Ut av skjermen - dot
                        ctx.arc(dotX, centerY + 70, 4 * Math.abs(dotPhase), 0, Math.PI * 2);
                        ctx.fillStyle = `rgba(68, 136, 255, ${alpha * Math.abs(dotPhase)})`;
                        ctx.fill();
                    } else {
                        // Inn i skjermen - kryss
                        ctx.strokeStyle = `rgba(68, 136, 255, ${alpha * Math.abs(dotPhase)})`;
                        ctx.moveTo(dotX - 4, centerY + 66);
                        ctx.lineTo(dotX + 4, centerY + 74);
                        ctx.moveTo(dotX + 4, centerY + 66);
                        ctx.lineTo(dotX - 4, centerY + 74);
                        ctx.stroke();
                    }
                }
            }
            
            // Labels
            ctx.fillStyle = '#fff';
            ctx.font = '14px Arial';
            ctx.textAlign = 'left';
            ctx.fillText('Antenne', centerX - 25, centerY + 110);
            ctx.fillText('c = 3√ó10‚Å∏ m/s ‚Üí', W - 150, 30);
            
            ctx.fillStyle = '#ff4444';
            ctx.fillText('E-felt (opp/ned)', 200, 30);
            ctx.fillStyle = '#4488ff';
            ctx.fillText('B-felt (inn/ut)', 200, 50);
            
            // Frekvens-indikator
            ctx.fillStyle = '#888';
            ctx.fillText('Frekvens: ' + (emSpeed === 1 ? 'Normal' : emSpeed < 1 ? 'Lav (radio)' : 'H√∏y (lys)'), 500, 280);
            
            emTick++;
            if (emAnimRunning) {
                emAnimFrame = requestAnimationFrame(drawEMOrigin);
            }
        }
        
        function toggleEMAnimation() {
            emAnimRunning = !emAnimRunning;
            document.getElementById('emAnimBtn').textContent = emAnimRunning ? '‚è∏Ô∏è Pause' : '‚ñ∂Ô∏è Start';
            if (emAnimRunning) drawEMOrigin();
        }
        
        function changeEMSpeed(delta) {
            emSpeed = Math.max(0.3, Math.min(3, emSpeed + delta * 0.5));
        }
        
        // === BREMSSTRAHLUNG ANIMATION (Elektron treffer atom) ===
        let bremElectron = null;
        let bremPhotons = [];
        let bremTick = 0;
        let bremAnimFrame;
        
        function initBremsstrahlung() {
            drawBremsstrahlung();
        }
        
        function fireBremElectron() {
            bremElectron = { x: 50, y: 150, vx: 8, vy: 0, active: true };
            bremPhotons = [];
        }
        
        function drawBremsstrahlung() {
            const canvas = document.getElementById('bremCanvas');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            const W = canvas.width, H = canvas.height;
            
            ctx.fillStyle = '#050510';
            ctx.fillRect(0, 0, W, H);
            
            const atomX = 400;
            const atomY = 150;
            
            // Tegn atom (kjerne + elektronskall)
            // Elektronskall
            ctx.strokeStyle = 'rgba(100, 150, 255, 0.3)';
            ctx.lineWidth = 2;
            for (let r = 30; r <= 70; r += 20) {
                ctx.beginPath();
                ctx.arc(atomX, atomY, r, 0, Math.PI * 2);
                ctx.stroke();
            }
            
            // Elektroner i skall
            ctx.fillStyle = '#6699ff';
            for (let i = 0; i < 6; i++) {
                const angle = (bremTick * 0.02) + (i * Math.PI / 3);
                const ex = atomX + Math.cos(angle) * 50;
                const ey = atomY + Math.sin(angle) * 50;
                ctx.beginPath();
                ctx.arc(ex, ey, 5, 0, Math.PI * 2);
                ctx.fill();
            }
            
            // Kjerne
            ctx.fillStyle = '#ff6600';
            ctx.shadowColor = '#ff6600';
            ctx.shadowBlur = 20;
            ctx.beginPath();
            ctx.arc(atomX, atomY, 20, 0, Math.PI * 2);
            ctx.fill();
            ctx.shadowBlur = 0;
            
            // Protoner og n√∏ytroner i kjernen
            ctx.fillStyle = '#fff';
            ctx.font = 'bold 12px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('+', atomX, atomY + 4);
            
            // Label
            ctx.fillStyle = '#ff6600';
            ctx.font = '12px Arial';
            ctx.fillText('Wolfram-atom', atomX, atomY + 100);
            
            // Tegn og oppdater elektron
            if (bremElectron && bremElectron.active) {
                // Sjekk kollisjon
                const dx = bremElectron.x - atomX;
                const dy = bremElectron.y - atomY;
                const dist = Math.sqrt(dx * dx + dy * dy);
                
                if (dist < 60) {
                    // KOLLISJON! Generer r√∏ntgenstr√•ler
                    bremElectron.active = false;
                    
                    // Lag flere fotoner i forskjellige retninger
                    for (let i = 0; i < 8; i++) {
                        const angle = (Math.PI * 2 / 8) * i + Math.random() * 0.3;
                        bremPhotons.push({
                            x: atomX,
                            y: atomY,
                            vx: Math.cos(angle) * 5,
                            vy: Math.sin(angle) * 5,
                            wave: 0,
                            alpha: 1
                        });
                    }
                } else {
                    // Beveg elektron
                    bremElectron.x += bremElectron.vx;
                    bremElectron.y += bremElectron.vy;
                    
                    // Tegn elektron
                    ctx.fillStyle = '#ffff00';
                    ctx.shadowColor = '#ffff00';
                    ctx.shadowBlur = 15;
                    ctx.beginPath();
                    ctx.arc(bremElectron.x, bremElectron.y, 10, 0, Math.PI * 2);
                    ctx.fill();
                    ctx.shadowBlur = 0;
                    
                    ctx.fillStyle = '#000';
                    ctx.font = 'bold 10px Arial';
                    ctx.fillText('e‚Åª', bremElectron.x, bremElectron.y + 4);
                    
                    // Hastighetspil
                    ctx.strokeStyle = '#ffff00';
                    ctx.lineWidth = 2;
                    ctx.beginPath();
                    ctx.moveTo(bremElectron.x + 15, bremElectron.y);
                    ctx.lineTo(bremElectron.x + 40, bremElectron.y);
                    ctx.lineTo(bremElectron.x + 35, bremElectron.y - 5);
                    ctx.moveTo(bremElectron.x + 40, bremElectron.y);
                    ctx.lineTo(bremElectron.x + 35, bremElectron.y + 5);
                    ctx.stroke();
                }
            } else if (!bremElectron) {
                // Tegn "venter p√• elektron" tekst
                ctx.fillStyle = '#666';
                ctx.font = '14px Arial';
                ctx.textAlign = 'left';
                ctx.fillText('‚Üê Klikk "Skyt elektron!" for √• starte', 50, 150);
            }
            
            // Tegn og oppdater fotoner (r√∏ntgenstr√•ler)
            bremPhotons = bremPhotons.filter(p => p.alpha > 0);
            bremPhotons.forEach(p => {
                p.x += p.vx;
                p.y += p.vy;
                p.wave += 0.5;
                p.alpha -= 0.008;
                
                // Tegn b√∏lge
                ctx.strokeStyle = `rgba(170, 68, 255, ${p.alpha})`;
                ctx.lineWidth = 2;
                ctx.beginPath();
                for (let i = 0; i < 20; i++) {
                    const wx = p.x - p.vx * i * 0.5;
                    const wy = p.y - p.vy * i * 0.5 + Math.sin(p.wave + i * 0.8) * 5;
                    if (i === 0) ctx.moveTo(wx, wy);
                    else ctx.lineTo(wx, wy);
                }
                ctx.stroke();
            });
            
            // Forklaring
            ctx.fillStyle = '#888';
            ctx.font = '12px Arial';
            ctx.textAlign = 'left';
            ctx.fillText('H√∏yhastighetselektron bremses av atomkjernen', 50, 280);
            ctx.fillText('‚Üí Kinetisk energi ‚Üí R√∏ntgenstr√•ling (bremsestr√•ling)', 50, 295);
            
            bremTick++;
            bremAnimFrame = requestAnimationFrame(drawBremsstrahlung);
        }
        
        // === OPPGAVER ===
        function saveAnswers() {
            for (let i = 1; i <= 6; i++) {
                const el = document.getElementById('oppg' + i);
                if (el) localStorage.setItem('em_oppg' + i, el.value);
            }
        }
        
        function loadAnswers() {
            for (let i = 1; i <= 6; i++) {
                const el = document.getElementById('oppg' + i);
                const saved = localStorage.getItem('em_oppg' + i);
                if (el && saved) el.value = saved;
            }
        }
        
        function downloadAnswers() {
            const name = localStorage.getItem('naturfag_student') || 'Elev';
            const dato = new Date().toLocaleDateString('no-NO');
            
            const titles = [
                'Oppgave 1: Det elektromagnetiske spekteret',
                'Oppgave 2: Ioniserende vs ikke-ioniserende',
                'Oppgave 3: Str√•ling i hverdagen',
                'Oppgave 4: Mobilstr√•ling og helse',
                'Oppgave 5: Str√•ledoser',
                'Oppgave 6: Bruksomr√•der for EM-str√•ling'
            ];
            
            const questions = [
                'Forklar sammenhengen mellom b√∏lgelengde, frekvens og energi for elektromagnetisk str√•ling. Gi eksempler p√• str√•ling med h√∏y og lav energi.',
                'Hva er forskjellen p√• ioniserende og ikke-ioniserende str√•ling? Hvorfor er den ene farligere enn den andre? Gi minst to eksempler p√• hver type.',
                'Beskriv minst 5 m√•ter du m√∏ter elektromagnetisk str√•ling i hverdagen. For hver type, angi hvilken del av spekteret det er og om det er farlig.',
                'Mange er bekymret for str√•ling fra mobiltelefoner og 5G. Forklar med faglige argumenter hvorfor denne bekymringen er ubegrunnet.',
                'En person f√•r en CT-skanning (ca. 10 mSv) og tar en flytur Oslo-New York (0.08 mSv). Sammenlign disse dosene med naturlig bakgrunnsstr√•ling.',
                'Velg to bruksomr√•der for EM-str√•ling. Forklar detaljert hvordan str√•lingen brukes og hvilke egenskaper som gj√∏r den egnet.'
            ];
            
            let html = `
<!DOCTYPE html>
<html><head><meta charset="UTF-8">
<style>
body { font-family: Arial, sans-serif; max-width: 700px; margin: 40px auto; line-height: 1.6; }
h1 { color: #ff4444; border-bottom: 2px solid #ff4444; padding-bottom: 10px; }
h2 { color: #333; margin-top: 30px; }
.info { background: #f5f5f5; padding: 15px; border-radius: 8px; margin-bottom: 30px; }
.oppgave { margin-bottom: 30px; padding: 20px; border: 1px solid #ddd; border-radius: 8px; }
.oppgave h3 { color: #ff4444; margin-top: 0; }
.sporsmal { color: #666; font-style: italic; margin-bottom: 15px; }
.svar { background: #fafafa; padding: 15px; border-left: 4px solid #ff4444; min-height: 100px; white-space: pre-wrap; }
</style></head><body>
<h1>üì° EM-str√•ling - Skriveoppgaver</h1>
<div class="info"><strong>Navn:</strong> ${name}<br><strong>Dato:</strong> ${dato}<br><strong>Fag:</strong> VG1 Naturfag - Modul 1</div>`;
            
            for (let i = 1; i <= 6; i++) {
                const el = document.getElementById('oppg' + i);
                const svar = el ? el.value.replace(/</g, '&lt;').replace(/>/g, '&gt;') : '';
                html += `
<div class="oppgave">
<h3>${titles[i-1]}</h3>
<div class="sporsmal">${questions[i-1]}</div>
<div class="svar">${svar || '(Ikke besvart)'}</div>
</div>`;
            }
            
            html += '</body></html>';
            
            const blob = new Blob([html], {type: 'application/msword'});
            const a = document.createElement('a');
            a.href = URL.createObjectURL(blob);
            a.download = 'EM-str√•ling-oppgaver-' + name.replace(/\s/g, '_') + '.doc';
            a.click();
        }
    </script>
</body>
</html>
